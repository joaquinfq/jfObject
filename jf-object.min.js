"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _keys2=require("babel-runtime/core-js/object/keys"),_keys3=_interopRequireDefault(_keys2),_typeof2=require("babel-runtime/helpers/typeof"),_typeof3=_interopRequireDefault(_typeof2),_getIterator2=require("babel-runtime/core-js/get-iterator"),_getIterator3=_interopRequireDefault(_getIterator2),_iterator5=require("babel-runtime/core-js/symbol/iterator"),_iterator6=_interopRequireDefault(_iterator5),_newArrowCheck2=require("babel-runtime/helpers/newArrowCheck"),_newArrowCheck3=_interopRequireDefault(_newArrowCheck2),_getPrototypeOf=require("babel-runtime/core-js/object/get-prototype-of"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=require("babel-runtime/helpers/classCallCheck"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=require("babel-runtime/helpers/createClass"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=require("babel-runtime/helpers/possibleConstructorReturn"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_get4=require("babel-runtime/helpers/get"),_get5=_interopRequireDefault(_get4),_inherits2=require("babel-runtime/helpers/inherits"),_inherits3=_interopRequireDefault(_inherits2),_propSep=require("prop-sep"),_propSep2=_interopRequireDefault(_propSep),_events=require("events"),_events2=_interopRequireDefault(_events);function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var singletons={},jfObject=function(e){function jfObject(){var t=this;(0,_classCallCheck3["default"])(this,jfObject);var r=(0,_possibleConstructorReturn3["default"])(this,(jfObject.__proto__||(0,_getPrototypeOf2["default"])(jfObject)).call(this));delete r.domain;for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach(function(e){return(0,_newArrowCheck3["default"])(this,t),r.setProperties(e)}.bind(this)),r}return(0,_inherits3["default"])(jfObject,e),(0,_createClass3["default"])(jfObject,[{key:_iterator6["default"],value:function(){var t=0,r=[];for(var e in this)"_"!==e[0]&&"function"!=typeof this[e]&&this[e]!==undefined&&r.push(e);return{next:function(){var e=r[t++];return{done:e===undefined,value:e}}}}},{key:"assign",value:function(){for(var e=jfObject.isObject,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=!0,u=!1,o=undefined;try{for(var a,s=(0,_getIterator3["default"])(r);!(i=(a=s.next()).done);i=!0){var l=a.value;if(e(l))for(var f in l)if(l.hasOwnProperty(f)){var _=l[f];if("function"!=typeof _)if(e(_)){var p=this[f];e(p)?p instanceof jfObject?p.assign(_):this[f]=new jfObject(p,_):_.constructor===Object?this[f]=new jfObject(_):this[f]=_}else this[f]=_}}}catch(c){u=!0,o=c}finally{try{!i&&s["return"]&&s["return"]()}finally{if(u)throw o}}return this}},{key:"emit",value:function(e){for(var t,r,n=arguments.length,i=Array(1<n?n-1:0),u=1;u<n;u++)i[u-1]=arguments[u];return(t=(0,_get5["default"])(jfObject.prototype.__proto__||(0,_getPrototypeOf2["default"])(jfObject.prototype),"emit",this)).call.apply(t,[this,e].concat(i)),(r=(0,_get5["default"])(jfObject.prototype.__proto__||(0,_getPrototypeOf2["default"])(jfObject.prototype),"emit",this)).call.apply(r,[this,"*",e].concat(i)),this}},{key:"get",value:function(e,t){return _propSep2["default"].get(this,e,t)}},{key:"has",value:function(e){return _propSep2["default"].has(this,e)}},{key:"remove",value:function(e){return _propSep2["default"].remove(this,e)}},{key:"set",value:function(e,t){return _propSep2["default"].set(this,e,t),this}},{key:"setProperties",value:function(e){if(e&&"object"===(void 0===e?"undefined":(0,_typeof3["default"])(e))){var t=!0,r=!1,n=undefined;try{for(var i,u=(0,_getIterator3["default"])((0,_keys3["default"])(e));!(t=(i=u.next()).done);t=!0){var o=i.value;this[o]!==undefined&&(this[o]=e[o])}}catch(a){r=!0,n=a}finally{try{!t&&u["return"]&&u["return"]()}finally{if(r)throw n}}}return this}},{key:"split",value:function(){var e=[],t=[],r=!0,n=!1,i=undefined;try{for(var u,o=(0,_getIterator3["default"])(this);!(r=(u=o.next()).done);r=!0){var a=u.value;e.push(a),t.push(this[a])}}catch(s){n=!0,i=s}finally{try{!r&&o["return"]&&o["return"]()}finally{if(n)throw i}}return{keys:e,values:t}}},{key:"toArray",value:function(){var e=[],t=!0,r=!1,n=undefined;try{for(var i,u=(0,_getIterator3["default"])(this);!(t=(i=u.next()).done);t=!0){var o=i.value;e.push([o,this[o]])}}catch(a){r=!0,n=a}finally{try{!t&&u["return"]&&u["return"]()}finally{if(r)throw n}}return e}},{key:"toJSON",value:function(o){var a=this;"function"!=typeof o&&(o=function(e,t){return(0,_newArrowCheck3["default"])(this,a),"_"!==e[0]&&t!==undefined}.bind(this));var s=function(t,e){(0,_newArrowCheck3["default"])(this,a);var r=void 0===e?"undefined":(0,_typeof3["default"])(e);if("function"!==r&&o(t,e)){if(e&&"object"===r)if(Array.isArray(e))e=e.map(function(e){return(0,_newArrowCheck3["default"])(this,a),s(t,e)}.bind(this));else{var n={};for(var i in e){var u=s(i,e[i]);u!==undefined&&(n[i]=u)}e=n}}else e=undefined;return e}.bind(this);return s("***************",this)}},{key:"toString",value:function(){return"[class "+String(this.constructor.name)+"]"}}],[{key:"i",value:function(){var e=this.name||"AnonymousClass";return e in singletons||(singletons[e]=new this),singletons[e]}},{key:"isObject",value:function(e){return Boolean(e)&&"object"===(void 0===e?"undefined":(0,_typeof3["default"])(e))&&!Array.isArray(e)}}]),jfObject}(_events2["default"]);exports["default"]=jfObject;